<!doctype html>
<html lang=cmn-Hans>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name=format-detection content="telephone=no">
  <link rel=stylesheet href="/bootstrap-lnn/dist/bootstrap-lnn.min.css">
  <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" crossorigin=anonymous>
  <link rel=stylesheet href="/blog/css/common.css">
  <link rel=stylesheet href="/blog/css/rouge-syntax.css">
  
  <link rel=icon href="/site_icon.png">
  <link rel="shortcut icon" href="/site_icon.png">
  <link rel=apple-touch-icon href="/site_icon.png" sizes="160x160">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>“文言”编程语言能读取标准输入了 | LNN的博客！</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="“文言”编程语言能读取标准输入了" />
<meta name="author" content="DGCK81LNN" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="“文言”编程语言能读取标准输入了 前不久我给“文言”写了个扩展库，让它能够通过 Node.js 读取标准输入。现已被收入“文言”的包管理系统“文淵閣”。 研究过这门深奥编程语言的朋友可能知道，“文言”中没有原生的办法来读取标准输入。我猜测这大概也是洛谷网不再支持这门语言的原因之一。" />
<meta property="og:description" content="“文言”编程语言能读取标准输入了 前不久我给“文言”写了个扩展库，让它能够通过 Node.js 读取标准输入。现已被收入“文言”的包管理系统“文淵閣”。 研究过这门深奥编程语言的朋友可能知道，“文言”中没有原生的办法来读取标准输入。我猜测这大概也是洛谷网不再支持这门语言的原因之一。" />
<link rel="canonical" href="https://dgck81lnn.github.io/blog/posts/220118_wenyan_stdin" />
<meta property="og:url" content="https://dgck81lnn.github.io/blog/posts/220118_wenyan_stdin" />
<meta property="og:site_name" content="LNN的博客！" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-18T17:04:31+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="“文言”编程语言能读取标准输入了" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"DGCK81LNN","url":"https://github.com/DGCK81LNN"},"dateModified":"2023-05-31T21:16:21+08:00","datePublished":"2022-01-18T17:04:31+08:00","description":"“文言”编程语言能读取标准输入了 前不久我给“文言”写了个扩展库，让它能够通过 Node.js 读取标准输入。现已被收入“文言”的包管理系统“文淵閣”。 研究过这门深奥编程语言的朋友可能知道，“文言”中没有原生的办法来读取标准输入。我猜测这大概也是洛谷网不再支持这门语言的原因之一。","headline":"“文言”编程语言能读取标准输入了","mainEntityOfPage":{"@type":"WebPage","@id":"https://dgck81lnn.github.io/blog/posts/220118_wenyan_stdin"},"url":"https://dgck81lnn.github.io/blog/posts/220118_wenyan_stdin"}</script>
<!-- End Jekyll SEO tag -->

  
  <script defer crossorigin=anonymous
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"
  ></script>
  <script defer src="/blog/js/common.js"></script>
  
</head>

<body>
  <div class="visually-hidden-focusable position-absolute top-0 start-0 p-1 bg-light">
    <a href="#main">跳至正文</a>
  </div>

  <header class="d-flex justify-content-center py-3 mb-4 border-bottom shadow-sm bg-light">
    <span>LNN的博客！</span>
  </header>

  <div id="mainwrap">
    <nav id=nav>
      <ol class="breadcrumb bg-light rounded p-3">
        <li class="breadcrumb-item"><a href="/blog">LNN的博客！</a></li>
        <li class="breadcrumb-item active" aria-current="page">“文言”编程语言能读取标准输入了</li>
      </ol>
    </nav>

    <main id=main>
<footer>
  <p class="text-muted">
    <a href="https://github.com/DGCK81LNN"
      >DGCK81LNN</a>
    &middot;
    <time datetime="2022-01-18T17:04:31+0800">2022-01-18 17:04</time>
    &middot;
    <span>最后更新于 <time datetime="2023-05-31T21:16:21+0800"
    >2023-05-31 21:16</time
    ></span>
      &middot;
      <span><span class=visually-hidden>标签：</span>
      <a href="/blog/tags/coding" class="text-decoration-none">
        <span class="badge bg-primary">编程</span>
      </a>
      <a href="/blog/tags/esolang" class="text-decoration-none">
        <span class="badge bg-secondary">esolang</span>
      </a>
      </span>
  </p>
</footer>

<div class="soulblog-content">
<h1 id="文言编程语言能读取标准输入了">“文言”编程语言能读取标准输入了</h1>

<p>前不久我给<a href="https://wy-lang.org/">“文言”</a>写了个扩展库，让它能够通过 Node.js 读取标准输入。现已被收入“文言”的包管理系统<a href="https://wyg.wy-lang.org/">“文淵閣”</a>。</p>

<p>研究过这门深奥编程语言的朋友可能知道，“文言”中没有原生的办法来读取标准输入。我猜测这大概也是<a href="https://www.luogu.com.cn/">洛谷网</a>不再支持这门语言的原因之一。</p>

<aside class="card my-3 p-3 pb-0">
 <figure>
  <blockquote>
   <p><b lang="en">Esoteric programming language</b>，简称<span>Esolang</span>，它们的设计被用于测试计算机语言设计的极限，作为一个概念的证明，或仅仅是一个玩笑。<span lang="en">Esolang</span>创作者［……］几乎不会在意语言的可用性，甚至恰恰相反，会故意增加使用难度。</p>
  </blockquote>
  <figcaption>
   <cite>—— 张凯强<a href="https://cloud.tencent.com/developer/article/1560964">《文言文编程火了，可我完全学不懂》</a></cite>
   </figcaption>
 </figure>
</aside>

<p>“文言”被洛谷网移除前，不乏有人用这门语言来解算法题，这就不得不用到嵌入 JavaScript 代码的 hack。由于“文言”代码需要先编译成 JavaScript代码才能运行，而编译器没有很严格地检查代码是否符合正常语法，我们可以轻松地注入 JavaScript 表达式：</p>

<div lang="lzh-Hant" class="language-wenyan highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ow">施</span><span class="p">「(</span><span class="nx">str</span><span class="o">=&gt;</span><span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">str</span><span class="p">))」</span><span class="ow">於</span><span class="s">『問天地好在』</span><span class="p">。</span><span class="w">
</span></code></pre></div></div>

<p>在这句代码中直接嵌入了一个 JavaScript 箭头函数 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">str</span> <span class="o">=&gt;</span> <span class="nx">process</span><span class="p">.</span><span class="nx">stdout</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span></code>。利用这种方法，我们可以调用 Node.js 环境下的标准库来实现读取输入。但问题是，如果直接读取 <code class="language-plaintext highlighter-rouge">/dev/stdin</code> 的内容，就必须一次读取完整个输入数据，而无法在命令行进行人机交互。</p>

<p>如果是 Node.js 开发，一般会采用原生的 <code class="language-plaintext highlighter-rouge">readline</code> 模块来读取用户输入。但它是异步运行的，要想用它来给“文言”程序读取输入，大概需要修改整个“文言”编译器的代码，让它编译出支持异步的程序，这似乎不太现实。于是我通过查阅各种资料，摸索出来了不使用异步操作读取命令行输入的办法：</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// gets.js</span>

<span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fs</span><span class="dl">"</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">SEGMENT_LEN</span> <span class="o">=</span> <span class="mi">1024</span>
<span class="kd">const</span> <span class="nx">EOL_BUFFER</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">os</span><span class="dl">"</span><span class="p">).</span><span class="nx">EOL</span><span class="p">)</span>

<span class="kd">function</span> <span class="nf">gets</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// 缓冲区，以及已读入的字节数</span>
  <span class="kd">let</span> <span class="nx">buffer</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="nx">SEGMENT_LEN</span><span class="p">)</span>
  <span class="kd">let</span> <span class="nx">len</span> <span class="o">=</span> <span class="mi">0</span>

  <span class="k">while </span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// 读取一字节，如果 EOF 就停止读入</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nf">readSync</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">buffer</span><span class="p">,</span> <span class="nx">len</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">break</span>
    <span class="o">++</span><span class="nx">len</span>

    <span class="c1">// 如果已经换行就停止读入</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">buffer</span><span class="p">.</span><span class="nf">subarray</span><span class="p">(</span><span class="nx">len</span> <span class="o">-</span> <span class="nx">EOL_BUFFER</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="nx">len</span><span class="p">).</span><span class="nf">equals</span><span class="p">(</span><span class="nx">EOL_BUFFER</span><span class="p">))</span> <span class="k">break</span>

    <span class="c1">// 如果缓冲区已经写满就扩容</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">len</span> <span class="o">===</span> <span class="nx">buffer</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">oldBuffer</span> <span class="o">=</span> <span class="nx">buffer</span>
      <span class="nx">buffer</span> <span class="o">=</span> <span class="nx">Buffer</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="nx">oldBuffer</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">SEGMENT_LEN</span><span class="p">)</span>
      <span class="nx">buffer</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="nx">oldBuffer</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">buffer</span><span class="p">.</span><span class="nf">subarray</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span><span class="p">).</span><span class="nf">toString</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div>

<p>这里声明了一个 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nf">gets</span><span class="p">()</span></code> 函数，可以读取一行用户输入。方法稍显笨拙：每次用 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">fs</span><span class="p">.</span><span class="nf">readSync</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span></code> 读取一个字节，这里如果用户还没有输入完成并按下回车，就会阻塞程序，等待用户输入；用户按下回车后，程序就会逐字节地读取输入的内容，直到遇到换行符为止。</p>

<aside class="card my-3 p-3 pb-0">
  <p>注意我传给 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">fs</span><span class="p">.</span><span class="nf">readSync</span><span class="p">()</span></code> 的第一个参数 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="mi">0</span></code> 实际上是标准输入的文件描述符 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">process</span><span class="p">.</span><span class="nx">stdin</span><span class="p">.</span><span class="nx">fd</span></code>，由于这样写有时会出问题就改成了直接的 <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="mi">0</span></code>。</p>
</aside>

<p>原型有了，就可以用“文言”来实现了。我定义了一个 <code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge"><span class="p">「</span><span class="nv">閱行</span><span class="p">」</span></code> 函数，并给它创建了语法糖 <code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge">閱<span class="m">一</span>行</code>、<code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge">閱<span class="m">二</span>行</code>、<code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge">閱<span class="m">三</span>行</code> ……一直到 <code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge">閱<span class="m">九</span>行</code>，分别对应调用函数 <code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge"><span class="p">「</span><span class="nv">閱行</span><span class="p">」</span></code> 一次至九次。这样一来，我们就可以很方便地连续读取多行输入：</p>

<div lang="lzh-Hant" class="language-wenyan highlighter-rouge"><div class="highlight"><pre class="highlight"><code>閱<span class="m">三</span>行<span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">甲</span><span class="p">」</span><span class="kd">曰</span><span class="p">「</span><span class="nv">乙</span><span class="p">」</span><span class="kd">曰</span><span class="p">「</span><span class="nv">丙</span><span class="p">」。</span><span class="w">
</span></code></pre></div></div>

<p>这就相当于：</p>

<div lang="lzh-Hant" class="language-wenyan highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="ow">施</span><span class="p">「</span><span class="nf">閱行</span><span class="p">」。</span><span class="ow">施</span><span class="p">「</span><span class="nf">閱行</span><span class="p">」。</span><span class="ow">施</span><span class="p">「</span><span class="nf">閱行</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">甲</span><span class="p">」</span><span class="kd">曰</span><span class="p">「</span><span class="nv">乙</span><span class="p">」</span><span class="kd">曰</span><span class="p">「</span><span class="nv">丙</span><span class="p">」。</span><span class="w">
</span></code></pre></div></div>

<p>不过，在解算法题的时候，我们往往需要从输入中读入数字、字符、单词，而不是读取一整行，所以我还添加了这些读取特定类型数据的方法：<code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge"><span class="p">「</span><span class="nv">閱數</span><span class="p">」</span></code>、<code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge"><span class="p">「</span><span class="nv">閱字</span><span class="p">」</span></code>、<code lang="lzh-Hant" class="language-wenyan highlight language-wenyan highlighter-rouge"><span class="p">「</span><span class="nv">閱言</span><span class="p">」</span></code>，并为它们定义了相应的语法糖。</p>

<p>这样一来，用“文言”来解 <a href="https://www.luogu.com.cn/problem/P1001">A+B Problem</a> 就可以这样写：</p>

<div lang="lzh-Hant" class="language-wenyan highlighter-rouge"><div class="highlight"><pre class="highlight"><code>閱<span class="m">二</span><span class="kt">數</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">甲</span><span class="p">」</span><span class="kd">曰</span><span class="p">「</span><span class="nv">乙</span><span class="p">」。</span><span class="w">
</span><span class="ow">加</span><span class="p">「</span><span class="nv">甲</span><span class="p">」</span><span class="ow">以</span><span class="p">「</span><span class="nv">乙</span><span class="p">」。</span><span class="ow">書之</span><span class="p">。</span><span class="w">
</span></code></pre></div></div>

<p>当然，要想得到正确的输出，我们不能直接用“文言”的解释器来运行这个程序，因为这样会输出中文数字；需要先把程序编译成 JavaScript，再调用 Node.js 运行编译出的代码。</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wenyan <span class="nt">-c</span> program.wy <span class="o">&gt;</span> compiled.js
node compiled.js &lt; input.txt <span class="o">&gt;</span> output.txt
</code></pre></div></div>

<p>在“文言”编程中，输出被称作“<strong lang="lzh-Hant">書</strong>”，那么读取输入不妨叫做 “<strong lang="lzh-Hant">閱</strong>”；许多第三方的扩展库都叫做“某某<strong lang="lzh-Hant">秘術</strong>”，因此我决定把我的这个库命名为“<strong lang="lzh-Hant">閱文秘術</strong>”。</p>

<p><a href="https://github.com/DGCK81LNN/wenyan-stdin">这里</a>是“<strong lang="lzh-Hant">閱文秘術</strong>”的 GitHub 仓库。</p>

<aside class="accordion my-3">
<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1" aria-expanded="false" aria-controls="collapse1">图片</button>
</h2>
<div class="accordion-collapse collapse" id="collapse1">
<div class="accordion-body pb-0">
        <p style="max-width: 500px; display: block; margin: auto;"><img src="/blog/assets/2022-01-18-1.jpg" alt="“閱文秘術”的代码中用到了很多嵌入的 JavaScript 表达式，它们跟“文言”代码的古汉语结合在一起，整体看起来十分怪异。" /></p>

        <p style="max-width: 500px; display: block; margin: auto;"><img src="/blog/assets/2022-01-18-2.jpg" alt="我节选了“閱文秘術”的一部分代码发给朋友，他形象地称嵌入的 JavaScript 表达式为“来自西洋巫术的神秘咒语”。" /></p>
      </div></div></div>
<div class="accordion-item">
<h2 class="accordion-header">
<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2" aria-expanded="false" aria-controls="collapse2">“閱文秘術”的完整源代码，带语法高亮</button>
</h2>
<div class="accordion-collapse collapse" id="collapse2">
<div class="accordion-body pb-0">
        <div lang="lzh-Hant" class="language-wenyan highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">夫</span><span class="p">「</span><span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">fs</span><span class="dl">"</span><span class="p">)」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">fs</span><span class="p">」。</span><span class="w">
</span><span class="kd">吾有</span><span class="m">一</span><span class="kt">物</span><span class="p">。</span><span class="kd">曰</span><span class="p">「</span><span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nf">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">os</span><span class="dl">"</span><span class="p">).</span><span class="nx">EOL</span><span class="p">)」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">行尾</span><span class="p">」。</span><span class="w">
</span><span class="kd">吾有</span><span class="m">一</span><span class="kt">言</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="w">
</span><span class="kd">吾有</span><span class="m">一</span><span class="kt">爻</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">載畢</span><span class="p">」。</span><span class="w">

</span><span class="kd">吾有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">載文</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span><span class="k">若</span><span class="p">「</span><span class="nv">載畢</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="k">乃歸空無</span><span class="p">。</span><span class="w">
  </span><span class="k">或若</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">之長不等於</span><span class="m">零</span><span class="kp">者</span><span class="p">。</span><span class="w">
    </span><span class="c">注曰。『既載之文尚未閱畢。不消更載。』</span><span class="w">
    </span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">

  </span><span class="kd">吾有</span><span class="m">一</span><span class="kt">物</span><span class="p">。</span><span class="kd">曰</span><span class="p">「</span><span class="nx">Buffer</span><span class="p">.</span><span class="nf">alloc</span><span class="p">(</span><span class="mi">0</span><span class="p">)」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">器</span><span class="p">」。</span><span class="w">
  </span><span class="kd">吾有</span><span class="m">一</span><span class="kt">數</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">器容</span><span class="p">」。</span><span class="w">

  </span><span class="k">恆為是</span><span class="p">。</span><span class="w">
    </span><span class="k">若</span><span class="p">「</span><span class="nv">器容</span><span class="p">」</span><span class="ow">等於</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="ow">之長</span><span class="kp">者</span><span class="p">。</span><span class="w">
      </span><span class="kd">夫</span><span class="p">「</span><span class="nv">器</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">舊器</span><span class="p">」。</span><span class="w">
      </span><span class="kd">夫</span><span class="p">「</span><span class="nv">舊器</span><span class="p">」</span><span class="ow">之長</span><span class="p">。</span><span class="ow">加</span><span class="kc">其</span><span class="ow">以</span><span class="m">一千零二十四</span><span class="p">。</span><span class="ow">施</span><span class="p">「</span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span><span class="p">」</span><span class="ow">於</span><span class="kc">其</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
      </span><span class="ow">施</span><span class="p">「(</span><span class="nx">n</span><span class="o">=&gt;</span><span class="nx">o</span><span class="o">=&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="nx">o</span><span class="p">))」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">舊器</span><span class="p">」。</span><span class="w">
      </span><span class="kd">昔之</span><span class="p">「</span><span class="nv">舊器</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="p">「</span><span class="nv">null</span><span class="p">」</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
    </span><span class="k">云云</span><span class="p">。</span><span class="w">
    </span><span class="ow">施</span><span class="p">「(</span><span class="nx">sup</span><span class="o">=&gt;</span><span class="nx">sub</span><span class="o">=&gt;</span><span class="nx">len</span><span class="o">=&gt;</span><span class="nx">sup</span><span class="p">.</span><span class="nf">subarray</span><span class="p">(</span><span class="nx">len</span><span class="o">-</span><span class="nx">sub</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">len</span><span class="p">).</span><span class="nf">equals</span><span class="p">(</span><span class="nx">sub</span><span class="p">))」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">行尾</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器容</span><span class="p">」。</span><span class="w">
    </span><span class="k">若其然者乃止也</span><span class="p">。</span><span class="w">

    </span><span class="ow">施</span><span class="p">「(</span><span class="nx">buf</span><span class="o">=&gt;</span><span class="nx">len</span><span class="o">=&gt;</span><span class="nx">fs</span><span class="p">.</span><span class="nf">readSync</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">buf</span><span class="p">,</span><span class="nx">len</span><span class="p">,</span><span class="mi">1</span><span class="p">))」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器容</span><span class="p">」。</span><span class="w">
    </span><span class="k">若</span><span class="kc">其</span><span class="ow">等於</span><span class="m">零</span><span class="kp">者</span><span class="p">。</span><span class="w">
      </span><span class="kd">昔之</span><span class="p">「</span><span class="nv">載畢</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="l">陽</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
      </span><span class="k">乃止也</span><span class="p">。</span><span class="w">
    </span><span class="ow">加</span><span class="p">「</span><span class="nv">器容</span><span class="p">」</span><span class="ow">以</span><span class="m">一</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">器容</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">云云</span><span class="p">。</span><span class="w">

  </span><span class="k">若</span><span class="p">「</span><span class="nv">器容</span><span class="p">」</span><span class="ow">不等於</span><span class="m">零</span><span class="kp">者</span><span class="p">。</span><span class="w">
    </span><span class="ow">施</span><span class="p">「(</span><span class="nx">buf</span><span class="o">=&gt;</span><span class="nx">len</span><span class="o">=&gt;</span><span class="nx">buf</span><span class="p">.</span><span class="nf">subarray</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">len</span><span class="p">).</span><span class="nf">toString</span><span class="p">())」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">器容</span><span class="p">」。</span><span class="ow">加</span><span class="kc">其</span><span class="ow">於</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">云云</span><span class="p">。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">載文</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱畢乎</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span><span class="k">若</span><span class="p">「</span><span class="nv">載畢</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="k">若</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">之長等於</span><span class="m">零</span><span class="kp">者</span><span class="p">。</span><span class="k">乃得</span><span class="l">陽</span><span class="k">也云云</span><span class="p">。</span><span class="w">
  </span><span class="k">乃得</span><span class="l">陰</span><span class="p">。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱畢乎</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『若已閱畢者』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱畢乎」。若其然者』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『若未閱畢者』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱畢乎」。若其不然者』</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱行</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「</span><span class="nf">載文</span><span class="p">」。</span><span class="kd">噫</span><span class="p">。</span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
  </span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="s">『』</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">乃得</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱行</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱一行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱二行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱三行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱四行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱五行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱六行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱七行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱八行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱九行』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」。施「閱行」』</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱字</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「</span><span class="nf">載文</span><span class="p">」。</span><span class="kd">噫</span><span class="p">。</span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">之</span><span class="m">一</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">字</span><span class="p">」。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">之其餘</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">乃得</span><span class="p">「</span><span class="nv">字</span><span class="p">」。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱字</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱一字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱二字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱三字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱四字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱五字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱六字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱七字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱八字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱九字』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」。施「閱字」』</span><span class="p">。</span><span class="w">

</span><span class="kd">吾有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱物</span><span class="p">」。</span><span class="kd">欲行是術</span><span class="p">。</span><span class="k">必先得</span><span class="m">一</span><span class="kt">物</span><span class="p">。</span><span class="kd">曰</span><span class="p">「</span><span class="nv">識物譜</span><span class="p">」。</span><span class="kd">乃行是術曰</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「</span><span class="nf">載文</span><span class="p">」。</span><span class="kd">噫</span><span class="p">。</span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「(</span><span class="nx">s</span><span class="o">=&gt;</span><span class="nx">r</span><span class="o">=&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nf">match</span><span class="p">(</span><span class="nx">r</span><span class="p">))」</span><span class="ow">於</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">識物譜</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">識</span><span class="p">」。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">識</span><span class="p">」。</span><span class="k">若其不然者</span><span class="p">。</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">識</span><span class="p">」</span><span class="ow">之</span><span class="m">一</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
  </span><span class="kd">夫</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="kd">夫</span><span class="p">「</span><span class="nv">言</span><span class="p">」</span><span class="ow">之長</span><span class="p">。</span><span class="ow">取</span><span class="m">二</span><span class="ow">以施</span><span class="p">「(</span><span class="nx">s</span><span class="o">=&gt;</span><span class="nx">start</span><span class="o">=&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nf">slice</span><span class="p">(</span><span class="nx">start</span><span class="p">))」。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">乃得</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱物</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱白</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span><span class="kd">吾有</span><span class="m">一</span><span class="kt">言</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
  </span><span class="k">恆為是</span><span class="p">。</span><span class="w">
    </span><span class="ow">施</span><span class="p">「</span><span class="nf">載文</span><span class="p">」。</span><span class="kd">噫</span><span class="p">。</span><span class="w">
    </span><span class="ow">施</span><span class="p">「</span><span class="nf">閱物</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">+/</span><span class="p">」。</span><span class="ow">加</span><span class="kc">其</span><span class="ow">於</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">言</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="kc">其</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
    </span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="k">乃止也</span><span class="p">。</span><span class="w">
    </span><span class="k">若</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="ow">之長不等於</span><span class="m">零</span><span class="kp">者</span><span class="p">。</span><span class="k">乃止也</span><span class="p">。</span><span class="w">
  </span><span class="k">云云</span><span class="p">。</span><span class="w">
  </span><span class="k">乃得</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱白</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱一白』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱白」』</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱言</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span>閱<span class="m">一</span>白<span class="p">。</span><span class="ow">加</span><span class="kc">其</span><span class="ow">以</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">原文</span><span class="p">」。</span><span class="w">
  </span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="p">「</span><span class="nv">原文</span><span class="p">」</span><span class="kd">是矣</span><span class="p">。</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「</span><span class="nf">閱物</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">*</span><span class="se">(\S</span><span class="sr">+</span><span class="se">)</span><span class="sr">/</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
  </span><span class="k">若</span><span class="p">「</span><span class="nv">言</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="ow">施</span><span class="p">「(</span><span class="nx">s</span><span class="o">=&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nf">trim</span><span class="p">())」</span><span class="ow">於</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="k">乃得矣</span><span class="p">。</span><span class="w">
  </span><span class="k">若非</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="p">「</span><span class="nv">原文</span><span class="p">」</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">云云</span><span class="p">。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱言</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱一言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱二言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱三言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱四言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱五言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱六言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱七言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱八言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱九言』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」。施「閱言」』</span><span class="p">。</span><span class="w">

</span><span class="kd">今有</span><span class="m">一</span><span class="kt">術</span><span class="p">。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nf">閱數</span><span class="p">」。</span><span class="k">是術曰</span><span class="p">。</span><span class="w">
  </span>閱<span class="m">一</span>白<span class="p">。</span><span class="ow">加</span><span class="kc">其</span><span class="ow">以</span><span class="p">「</span><span class="nv">文</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">原文</span><span class="p">」。</span><span class="w">
  </span><span class="k">若</span>已閱畢<span class="kp">者</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="p">「</span><span class="nv">原文</span><span class="p">」</span><span class="kd">是矣</span><span class="p">。</span><span class="k">乃歸空無也</span><span class="p">。</span><span class="w">
  </span><span class="ow">施</span><span class="p">「</span><span class="nf">閱物</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="sr">/^</span><span class="se">\s</span><span class="sr">*-</span><span class="se">?(?:</span><span class="sr">0|</span><span class="se">[</span><span class="sr">1-9</span><span class="se">]\d</span><span class="sr">*</span><span class="se">)(?:\.\d</span><span class="sr">+</span><span class="se">)?(?:[</span><span class="sr">Ee</span><span class="se">][</span><span class="sr">+-</span><span class="se">]?\d</span><span class="sr">+</span><span class="se">)?</span><span class="sr">/</span><span class="p">」。</span><span class="kd">名之曰</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="w">
  </span><span class="k">若</span><span class="p">「</span><span class="nv">言</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="ow">施</span><span class="p">「</span><span class="nf">parseFloat</span><span class="p">」</span><span class="ow">於</span><span class="p">「</span><span class="nv">言</span><span class="p">」。</span><span class="k">乃得矣</span><span class="p">。</span><span class="w">
  </span><span class="k">若非</span><span class="p">。</span><span class="kd">昔之</span><span class="p">「</span><span class="nv">文</span><span class="p">」</span><span class="kp">者</span><span class="p">。</span><span class="kd">今</span><span class="p">「</span><span class="nv">原文</span><span class="p">」</span><span class="kd">是矣</span><span class="p">。</span><span class="w">
  </span><span class="k">云云</span><span class="p">。</span><span class="w">
</span><span class="kd">是謂</span><span class="p">「</span><span class="nf">閱數</span><span class="p">」</span><span class="kd">之術也</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱一數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱二數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱三數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱四數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱五數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱六數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱七數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱八數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span><span class="k">或云</span><span class="s">『閱九數』</span><span class="p">。</span><span class="k">蓋謂</span><span class="s">『施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」。施「閱數」』</span><span class="p">。</span><span class="w">
</span></code></pre></div>        </div>
      </div></div></div>
</aside>

</div>

<hr>

<section>
  <h2>评论区</h2>
  <script defer src="https://utteranc.es/client.js" crossorigin=anonymous
    data-theme=github-light
    data-repo="DGCK81LNN/blog" data-label="utterances comments"
    data-issue-term="/posts/220118_wenyan_stdin"
  ></script>
  <div class="soulblog-utterances-placeholder d-flex flex-column justify-content-center align-items-center">
    <div class="spinner-border text-primary" role=status></div>
    <p class="text-muted mt-3">
      加载基于 GitHub issues 的 <a href="https://utteranc.es/" crossorigin=anonymous>utteranc.es</a> 评论区组件……
    </p>
  </div>
</section>

    </main>
  </div>

  <footer class="mt-4 px-2 py-4 bg-light border-top">
    <div id=footer class="mx-auto">
      <div class="mb-2 d-flex gap-2 justify-content-between align-items-center flex-wrap">
        <div>
          <a class="d-block"
            href="https://github.com/DGCK81LNN/blog/blob/main/_posts/2022-01-18-wenyan_stdin.md?plain=1">
            <img class="d-block" alt="在GitHub上查看源代码"
              src="https://img.shields.io/badge/-在GitHub上查看源代码-222222?logo=github" />
          </a>
        </div>
        <div class="d-flex gap-2 align-items-center flex-wrap">
          <a class="d-block" href="https://notbyai.fyi" lang="en">
            <img class="d-block" alt="written by human, not by AI"
              src="/blog/assets/Written-By-Human-Not-By-AI-Badge-white.svg"/>
          </a>
          <a class="d-block" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">
            <img class="d-block" alt="CC BY-SA"
              src="/blog/assets/by-sa.svg"/>
          </a>
        </div>
      </div>
      <div class="text-secondary mb-2">
        <p>本站图文内容除另有声明外，均在<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans"
          >知识共享 署名-相同方式共享 4.0 国际（CC BY-SA 4.0）许可协议</a
          >下发布。</p>
      </div>
      <div class="d-flex flex-wrap mb-0">
        <a href="/">灵魂小站首页</a>
        <span class="mx-2 vr"></span>
        <a rel=nofollow href="https://github.com/DGCK81LNN/">我的 GitHub</a>
        <span class="mx-2 vr"></span>
        <span>QQ: 3470524928</span>
      </div>
    </div>
  </footer>
</body>
</html>
<!------------------------------------------------------------------------------
  page:
    path: "_posts/2022-01-18-wenyan_stdin.md"
    dir: null
    name: "2022-01-18-wenyan_stdin.md"
    url: "/posts/220118_wenyan_stdin"
    collection: "posts"
    layout: "posts"
------------------------------------------------------------------------------->
