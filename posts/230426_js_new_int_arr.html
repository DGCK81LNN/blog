<!doctype html>
<html lang=cmn-Hans>
<head>
  <meta charset=utf-8>
  <meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name=format-detection content="telephone=no">
  <link rel=stylesheet href="/bootstrap-lnn/dist/bootstrap-lnn.min.css">
  <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" crossorigin=anonymous>
  <link rel=stylesheet href="/blog/css/common.css">
  <link rel=stylesheet href="/blog/css/rouge-syntax.css">
  
  <link rel=icon href="/site_icon.png">
  <link rel="shortcut icon" href="/site_icon.png">
  <link rel=apple-touch-icon href="/site_icon.png" sizes="160x160">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„ | LNNçš„åšå®¢ï¼</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„" />
<meta name="author" content="DGCK81LNN" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„ int* arr = new int[20]; ğŸ¤”â€¦ const array = new int[20] console.log(array) // ==&gt; Int32Array(20)" />
<meta property="og:description" content="JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„ int* arr = new int[20]; ğŸ¤”â€¦ const array = new int[20] console.log(array) // ==&gt; Int32Array(20)" />
<link rel="canonical" href="https://dgck81lnn.github.io/blog/posts/230426_js_new_int_arr" />
<meta property="og:url" content="https://dgck81lnn.github.io/blog/posts/230426_js_new_int_arr" />
<meta property="og:site_name" content="LNNçš„åšå®¢ï¼" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-04-26T18:55:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"DGCK81LNN","url":"https://github.com/DGCK81LNN"},"dateModified":"2023-04-26T18:55:00+08:00","datePublished":"2023-04-26T18:55:00+08:00","description":"JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„ int* arr = new int[20]; ğŸ¤”â€¦ const array = new int[20] console.log(array) // ==&gt; Int32Array(20)","headline":"JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„","mainEntityOfPage":{"@type":"WebPage","@id":"https://dgck81lnn.github.io/blog/posts/230426_js_new_int_arr"},"url":"https://dgck81lnn.github.io/blog/posts/230426_js_new_int_arr"}</script>
<!-- End Jekyll SEO tag -->

  
  <script defer crossorigin=anonymous
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"
  ></script>
  <script defer src="/blog/js/common.js"></script>
  
</head>

<body>
  <div class="visually-hidden-focusable position-absolute top-0 start-0 p-1 bg-light">
    <a href="#main">è·³è‡³æ­£æ–‡</a>
  </div>

  <header class="d-flex justify-content-center py-3 mb-4 border-bottom shadow-sm bg-light">
    <span>LNNçš„åšå®¢ï¼</span>
  </header>

  <div id="mainwrap">
    <nav id=nav>
      <ol class="breadcrumb bg-light rounded p-3">
        <li class="breadcrumb-item"><a href="/blog">LNNçš„åšå®¢ï¼</a></li>
        <li class="breadcrumb-item active" aria-current="page">JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ new int[len] æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„</li>
      </ol>
    </nav>

    <main id=main>
<footer>
  <p class="text-muted">
    <a href="https://github.com/DGCK81LNN"
      >DGCK81LNN</a>
    &middot;
    <time datetime="2023-04-26T18:55:00+0800">2023-04-26 18:55</time>
      &middot;
      <span><span class=visually-hidden>æ ‡ç­¾ï¼š</span>
      <a href="/blog/tags/coding" class="text-decoration-none">
        <span class="badge bg-primary">ç¼–ç¨‹</span>
      </a>
      <a href="/blog/tags/everyday-coding" class="text-decoration-none">
        <span class="badge bg-secondary">æ—¥å¸¸å†™ä»£ç </span>
      </a>
      </span>
  </p>
</footer>

<div class="soulblog-content">
<h1 id="javascriptä½†æ˜¯ä½ å¯ä»¥ç”¨-new-intlen-æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„">JavaScriptï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="k">new</span> <span class="nx">int</span><span class="p">[</span><span class="nx">len</span><span class="p">]</span></code> æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„</h1>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span><span class="o">*</span> <span class="n">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
</code></pre></div></div>

<p>ğŸ¤”â€¦</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">int</span><span class="p">[</span><span class="mi">20</span><span class="p">]</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="c1">// ==&gt; Int32Array(20)</span>
</code></pre></div></div>

<hr />

<p>ä»Šå¤©è·Ÿ FCC åŒå­¦è®¨è®ºæ—¶æåˆ°ï¼ŒJavaScript ä¸­è°ƒç”¨æ„é€ å‡½æ•°æ—¶å¦‚æœä¸éœ€è¦ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œåˆ™å¯ä»¥ä¸å†™è°ƒç”¨å‡½æ•°çš„æ‹¬å·ï¼š</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span>
</code></pre></div></div>

<p>æˆ‘ç«‹åˆ»æƒ³åˆ°ï¼Œåªè¦åˆ©ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/Javascript/Reference/Global_Objects/Proxy"><code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nb">Proxy</span></code></a><sup><a href="https://developer.mozilla.org/en-US/docs/Web/Javascript/Reference/Global_Objects/Proxy">(en)</a></sup>ï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">int</span></code> çš„å¯¹è±¡ï¼Œä½¿å¾— <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">int</span><span class="p">[</span><span class="nx">len</span><span class="p">]</span></code> è¿”å›ä¸€ä¸ªå¯ä»¥è¢«å½“ä½œæ„é€ å‡½æ•°è°ƒç”¨çš„å‡½æ•°ï¼Œè°ƒç”¨åè¿”å›ä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nb">Int32Array</span></code>ï¼Œä»è€Œå®ç°ç”¨ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="k">new</span> <span class="nx">int</span><span class="p">[</span><span class="nx">len</span><span class="p">]</span></code> çš„è¯­æ³•æ¥åˆ›å»ºç±»å‹åŒ–æ•°ç»„ã€‚ï¼ˆC++ åŒ– JSï¼ï¼‰äºæ˜¯å½“åœºå†™äº†è¿™ä¸ªã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">handler</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nf">get</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">prop</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nc">Int32Array</span><span class="p">(</span><span class="nx">prop</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">int</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Proxy</span><span class="p">({},</span> <span class="nx">handler</span><span class="p">)</span>

<span class="k">new</span> <span class="nx">int</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span> <span class="c1">// =&gt; Int32Array(32)</span>
</code></pre></div></div>

<p>æ˜¾ç„¶è¿™é‡Œçš„ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">int</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span></code> åªæ˜¯åœ¨å¯¹ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">int</span></code> è¿›è¡Œç´¢å¼•ï¼Œè¿™æ ·ä¼šè°ƒç”¨ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">handler</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">int</span><span class="p">,</span> <span class="dl">"</span><span class="s2">32</span><span class="dl">"</span><span class="p">)</span></code>ã€‚æ­¤æ—¶æˆ‘ä»¬å°±è¿”å›ä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºå¯¹åº”é•¿åº¦çš„ç±»å‹åŒ–æ•°ç»„ã€‚ç„¶åæŠŠ <code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">int</span><span class="p">[</span><span class="mi">32</span><span class="p">]</span></code> çš„ç»“æœå½“ä½œæ„é€ å‡½æ•°æ¥è°ƒç”¨ï¼Œå°±èƒ½å¾—åˆ°è¿™ä¸ªæ–°æ•°ç»„ã€‚</p>

<p>åˆå†™äº†ä¸€ä¸ªèƒ½åˆ›å»ºå…¶ä»–å„ç§æ•°ç»„çš„ç‰ˆæœ¬ã€‚<code class="language-javascript highlight language-javascript highlighter-rouge"><span class="nx">Class</span></code> åªè¦æ˜¯ä¸€ä¸ªæ¥å—æ•°ç»„é•¿åº¦çš„æ„é€ å‡½æ•°å°±å¯ä»¥ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">ArrayCreator</span><span class="p">(</span><span class="nx">Class</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nc">Proxy</span><span class="p">({},</span> <span class="p">{</span>
    <span class="nf">get</span><span class="p">(</span><span class="nx">_</span><span class="p">,</span> <span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">length</span> <span class="o">=</span> <span class="o">+</span><span class="nx">length</span>
      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nb">Number</span><span class="p">.</span><span class="nf">isSafeInteger</span><span class="p">(</span><span class="nx">length</span><span class="p">)</span> <span class="o">||</span> <span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nc">TypeError</span><span class="p">(</span><span class="s2">`ArrayCreator(</span><span class="p">${</span><span class="nx">Class</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">): length must be a non-negative safe integer`</span><span class="p">)</span>
      <span class="k">return</span> <span class="nf">function </span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nc">Class</span><span class="p">(</span><span class="nx">length</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">},</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">int</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nb">Int32Array</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">long</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nx">BigInt64Array</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">short</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nb">Int16Array</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">float</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nb">Float32Array</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">double</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nb">Float64Array</span><span class="p">)</span>

<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">int</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; Int32Array[20]</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">long</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; BigInt64Array(20)</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">short</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; Int16Array[20]</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">float</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; Float32Array[20]</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">double</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; Float64Array[20]</span>

<span class="kd">const</span> <span class="nx">any</span> <span class="o">=</span> <span class="nc">ArrayCreator</span><span class="p">(</span><span class="nb">Array</span><span class="p">)</span> <span class="c1">// (?)</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="k">new</span> <span class="nx">any</span><span class="p">[</span><span class="mi">20</span><span class="p">])</span> <span class="c1">// =&gt; Array(20)</span>
</code></pre></div></div>

<p>æ²¡äº†ã€‚ï¼ˆ</p>

</div>

<hr>

<section>
  <h2>è¯„è®ºåŒº</h2>
  <script defer src="https://utteranc.es/client.js" crossorigin=anonymous
    data-theme=github-light
    data-repo="DGCK81LNN/blog" data-label="utterances comments"
    data-issue-term="/posts/230426_js_new_int_arr"
  ></script>
  <div class="soulblog-utterances-placeholder d-flex flex-column justify-content-center align-items-center">
    <div class="spinner-border text-primary" role=status></div>
    <p class="text-muted mt-3">
      åŠ è½½åŸºäº GitHub issues çš„ <a href="https://utteranc.es/" crossorigin=anonymous>utteranc.es</a> è¯„è®ºåŒºç»„ä»¶â€¦â€¦
    </p>
  </div>
</section>

    </main>
  </div>

  <footer class="mt-4 px-2 py-4 bg-light border-top">
    <div id=footer class="mx-auto">
      <div class="mb-2 d-flex gap-2 justify-content-between align-items-center flex-wrap">
        <div>
          <a class="d-block"
            href="https://github.com/DGCK81LNN/blog/blob/main/_posts/2023-04-26-js_new_int_arr.md?plain=1">
            <img class="d-block" alt="åœ¨GitHubä¸ŠæŸ¥çœ‹æºä»£ç "
              src="https://img.shields.io/badge/-åœ¨GitHubä¸ŠæŸ¥çœ‹æºä»£ç -222222?logo=github" />
          </a>
        </div>
        <div class="d-flex gap-2 align-items-center flex-wrap">
          <a class="d-block" href="https://notbyai.fyi" lang="en">
            <img class="d-block" alt="written by human, not by AI"
              src="/blog/assets/Written-By-Human-Not-By-AI-Badge-white.svg"/>
          </a>
          <a class="d-block" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">
            <img class="d-block" alt="CC BY-SA"
              src="/blog/assets/by-sa.svg"/>
          </a>
        </div>
      </div>
      <div class="text-secondary mb-2">
        <p>æœ¬ç«™å›¾æ–‡å†…å®¹é™¤å¦æœ‰å£°æ˜å¤–ï¼Œå‡åœ¨<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans"
          >çŸ¥è¯†å…±äº« ç½²å-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…ï¼ˆCC BY-SA 4.0ï¼‰è®¸å¯åè®®</a
          >ä¸‹å‘å¸ƒã€‚</p>
      </div>
      <div class="d-flex flex-wrap mb-0">
        <a href="/">çµé­‚å°ç«™é¦–é¡µ</a>
        <span class="mx-2 vr"></span>
        <a rel=nofollow href="https://github.com/DGCK81LNN/">æˆ‘çš„ GitHub</a>
        <span class="mx-2 vr"></span>
        <span>QQ: 3470524928</span>
      </div>
    </div>
  </footer>
</body>
</html>
<!------------------------------------------------------------------------------
  page:
    path: "_posts/2023-04-26-js_new_int_arr.md"
    dir: null
    name: "2023-04-26-js_new_int_arr.md"
    url: "/posts/230426_js_new_int_arr"
    collection: "posts"
    layout: "posts"
------------------------------------------------------------------------------->
